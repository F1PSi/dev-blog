{"author":20,"content":"Wir im Core Team haben unseren Fokus in letzter Zeit verst\u00e4rkt auf die Tests unserer Java-Services gelegt. Eine Ma\u00dfnahme die wir (endlich) erledigt haben war unsere Integrationtests von den Unittests zu trennen.\n\nWir verwenden Gradle als Buildtool und mussten daher in unserem build.gradle File ein eigenes SourceSet f\u00fcr die Integrationtests anlegen.\n\n```grails\n...\napply plugin: 'java'\n\nsourceSets {\n    integrationTest {\n        java {\n            srcDir 'src\/integrationTest\/java'\n        }\n        resources {\n            srcDir 'src\/integrationTest\/resources'\n        }\n        compileClasspath += sourceSets.test.compileClasspath\n        runtimeClasspath += sourceSets.test.runtimeClasspath\n    }\n}\n\ndependencies {\n    ....\n}\n\ntask integrationTest(type: Test) {\n    group = 'verification'\n    testClassesDir = sourceSets.integrationTest.output.classesDir\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n``` \n\nIn unserer IDE (momentan verwenden wir alle IntelliJ IDEA) konnten wir diese Verzeichnisstruktur anlegen und alle unsere Integrationtests nach `src\/integrationTest\/java` verschieben. Wenn ihr auch IntelliJ IDEA verwendet solltet ihr zumindest auf die [Version 2016.1](https:\/\/blog.jetbrains.com\/idea\/2016\/03\/intellij-idea-2016-1-is-here\/) upgraden wenn ihr das nicht schon getan habt. Mit dieser Version ist n\u00e4mlich der Support f\u00fcr Gradle SourceSets verbessert worden.\n\nDas wars dann auch schon wieder. Jetzt k\u00f6nnen wir w\u00e4hrend der Entwicklung unsere Unittests so oft laufen lassen wie wir wollen ohne gro\u00dfe Wartezeiten zu haben.\n\nDie Integrationtests k\u00f6nnen \u00fcber den `integrationTest` Task, den wir oben angelegt haben, ausgef\u00fchrt werden. Die Unittests werden weiterhin \u00fcber den `test` Task angesto\u00dfen. Jetzt k\u00f6nnen die Integrationtests, z.B. vom Jenkins, regelm\u00e4\u00dfig ausgef\u00fchrt werden.","title":"Integration Testsets mit Gradle","slug":"gradle-integrationtests","createDate":1467901782,"hash":"478079071f69bfc02494786972060651","status":0}